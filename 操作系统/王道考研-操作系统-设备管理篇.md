## 5.1.1 I-O设备的概念和分类

![image-20230910211221453](assets/image-20230910211221453.png)

![image-20230910211329222](assets/image-20230910211329222.png)

![image-20230910211555897](assets/image-20230910211555897.png)



## 5.1.2 I-O控制器

![image-20230911201313569](assets/image-20230911201313569.png)

![image-20230911201651712](assets/image-20230911201651712.png)

![image-20230911202909843](assets/image-20230911202909843.png)

控制线：向IO设备发出一个指令

地址线：CPU告诉IO逻辑自己要控制的是哪一个设备，每个设备有一个地址

数据总线：CPU会通过数据总线把数据放到数据寄存器，IO逻辑从数据寄存器取数据

控制寄存器：CPU发出的IO指令可能有参数，参数就放在控制寄存器中，IO逻辑从这里取参数

状态寄存器：IO逻辑会向状态寄存器中写入设备的状态

![image-20230911203104815](assets/image-20230911203104815.png)

![image-20230911203419146](assets/image-20230911203419146.png)

![image-20230911203512890](assets/image-20230911203512890.png)

## 5.1.3 IO控制方式

![image-20230911203608243](assets/image-20230911203608243.png)

![image-20230911203838362](assets/image-20230911203838362.png)

早期的一种控制方式 ，关键字：轮询

![image-20230911204429988](assets/image-20230911204429988.png)

![image-20230911204609442](assets/image-20230911204609442.png)

![image-20230911204941308](assets/image-20230911204941308.png)

解决了CPU资源大量浪费问题

![image-20230911205222226](assets/image-20230911205222226.png)

DMA:数据直接从设备到内存，不再需要经过CPU

![image-20230911205555929](assets/image-20230911205555929.png)

![image-20230911205907154](assets/image-20230911205907154.png)

![image-20230911210101405](assets/image-20230911210101405.png)

解决了DMA方式的缺点，CPU可以一次性给出多条指令让通道依次去执行，CPU干预频率降低，可以将它理解为任务清单

![image-20230911210424236](assets/image-20230911210424236.png)

![image-20230911210528780](assets/image-20230911210528780.png)

## 5.1.4 IO软件层级结构

![image-20230911210915086](assets/image-20230911210915086.png)

![image-20230911211304284](assets/image-20230911211304284.png)

![image-20230911211535421](assets/image-20230911211535421.png)

![image-20230911211714140](assets/image-20230911211714140.png)

![image-20230911211847970](assets/image-20230911211847970.png)

## 5.1.5 输入输出应用程序接口和驱动程序接口

用户层的应用程序无法用一个统一的接口完成所有类型设备的IO

![image-20230911212457406](assets/image-20230911212457406.png)

![image-20230911213224490](assets/image-20230911213224490.png)

![image-20230911213402758](assets/image-20230911213402758.png)

![image-20230911213541044](assets/image-20230911213541044.png)



## 5.2.1 IO核心子系统

![image-20230911213845751](assets/image-20230911213845751.png)



![image-20230911213910863](assets/image-20230911213910863.png)



## 5.2.2 假脱机技术

![image-20230911214210004](assets/image-20230911214210004.png)

![image-20230911214423692](assets/image-20230911214423692.png)

![image-20230911214818042](assets/image-20230911214818042.png)

![image-20230911214923944](assets/image-20230911214923944.png)

## 5.2.3 设备的分配与回收



## 5.2.4 缓冲区管理



## 5.3.1 磁盘的结构



## 5.3.2 磁盘调度算法



## 5.3.3 减少磁盘延迟时间的方法



## 5.3.4 磁盘的管理



## 5.3.5 固态硬盘SSD